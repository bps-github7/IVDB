<h2 mat-dialog-title>Welcome to the Internet Videogame Database!</h2>

<mat-dialog-content>
  <form #newUser="ngForm">
  
    <mat-radio-group class="radio">
      <h3>Provide preferences now or later?</h3>
      <label for="">
        <!-- is there a Reason you not using mat-radio element? -->
        <input ngModel type="radio" [(ngModel)]="newUserPreferences.setPreferencesNow" name="setPreferencesNow" id="" value="now">
        Now
      </label>
      <label for="">
        <input ngModel type="radio" [(ngModel)]="newUserPreferences.setPreferencesNow" name="setPreferencesNow" value="later">
        Later
      </label>
      <p>Preferences help us understand what you like and dislike, so we can better reccomend you content</p>
    </mat-radio-group>  

    <div *ngIf="newUserPreferences.setPreferencesNow === 'now'">
      <!-- TODO: implement preference collection widget- see https://github.com/bps-github7/IVDB/issues/16 about this for client instructions and NFR -->
      preferences collection widget here!
    </div>

    <div 
      *ngIf="newUserPreferences.setPreferencesNow === 'later'"
      class="checkbox">
      <label for="">
        <mat-checkbox value="true" name="remindMeLater" ngModel [(ngModel)]="newUserPreferences.remindMeLater">Remind me later</mat-checkbox>
      </label>
      
      
    </div>

  <!-- TODO: figure this out- you may need to use radio instead of checkbox for above.
    You want it to show only if user did not select 'remind me later' but not by default- so need confirm/deny... not checkbox -->
    <div *ngIf="newUserPreferences.remindMeLater" class="alert alert-info">
      Note: We won't bug you to provide your preferences again.
      However, it is reccomended for better IVDB experience. 
      <i>
        You can always choose to provide them by following the preferences link inside your user profile pages
      </i>
    </div>

    <mat-radio-group *ngIf="newUserPreferences.remindMeLater" class="radio">
      When should we remind you again?
      <mat-radio-button name="remindMeLater" ngModel [(ngModel)]="newUserPreferences.remindMeLater" value="next">Next time I sign in</mat-radio-button>
      <mat-radio-button name="remindMeLater" ngModel [(ngModel)]="newUserPreferences.remindMeLater" value="tomorrow">tomorrow</mat-radio-button>
      <mat-radio-button name="remindMeLater" ngModel [(ngModel)]="newUserPreferences.remindMeLater" value="week">a week from now</mat-radio-button>
      <mat-radio-button name="remindMeLater" ngModel [(ngModel)]="newUserPreferences.remindMeLater" value="month">a month from now</mat-radio-button>


    </mat-radio-group>


    <div class="checkbox" *ngIf="googleUser">
      <h3>You created your account with google:</h3>
      <label>
        <mat-checkbox value="true" name="setNewDisplayName" ngModel [(ngModel)]="newUserPreferences.setNewDisplayName"> 
        I'd like to provide a custom display name
        </mat-checkbox>
      </label>
    </div>

    <mat-form-field *ngIf="newUserPreferences.setNewDisplayName">
      <label for="">Display Name:</label>
      <input type="text" name="newDisplayName" ngModel [(ngModel)]="newUserPreferences.newDisplayName"  >
    </mat-form-field>
  </form>

</mat-dialog-content>

<mat-dialog-actions>
  <button type="submit" (click)="submitPreferences()" matDialogClose="true"> Submit</button>
</mat-dialog-actions>