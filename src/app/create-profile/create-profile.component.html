<div class="row mt-4">
    <div class="col-md-6">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" [src]="profile?.publicProfile?.profileImg" alt="profile card">
            <div class="card-body">
              <h5 class="card-title">{{ profile?.publicProfile?.nickname }}</h5>
              <p class="card-text">{{ profile?.publicProfile?.bio }}</p>
            </div>
          </div>
    </div>
    <!-- for another time: probably dont need that argument for save fn. rewrite that signiture and get rid of it.a
    you acceess the form value thru getters in this components ts file -->
    <form [formGroup]="form" (ngSubmit)="save(form.value)">
        <zippy title="Public Profile: " class="form-group" formGroupName="publicProfile">

            <reactive-default-form-control label="Provide a nickname: (*default is username)" formControlName="nickname"></reactive-default-form-control>
            
            <reactive-default-form-control label="Profile Picture:" formControlName="profileImg"></reactive-default-form-control>

            <reactive-select-form-control label="Background Picture:" formControlName="backgroundImg" [options]="['Sunday', 'Banana', 'AppleSauce', 'Coins', 'Custom']"></reactive-select-form-control>

            <reactive-textarea-form-control label="bio/player profile" formControlName="bio"></reactive-textarea-form-control>

            <reactive-default-form-control label="provide any gamer tags (*optional):" formControlName="gamerTags"></reactive-default-form-control>

            <reactive-default-form-control label="provide any links (*optional):" formControlName="links"></reactive-default-form-control>

            <zippy title="Display Settings" class="form-group" formGroupName="displaySettings">
        
                <div class="form-control form-radio">

                    <label for="completionPreferences">
                        <h5>How soon do you want to complete your profile?</h5>
                        <input type="radio" formControlName="completionPreferences" value="now">
                        Now
                    </label>

                    <label for="completionPreferences">
                        <input type="radio" formControlName="completionPreferences" value="later">
                        Later
                    </label>
                </div>

                <div class="form-control form-radio">

                    <label for="displayPreferences">
                        <h5>Show preferences on public profile?</h5>
                        <input type="radio" formControlName="displayPreferences" value="yes">
                        Yes
                    </label>


                    <label for="displayPreferences">
                        <input type="radio" formControlName="displayPreferences" value="no">
                        No
                    </label>

                    <label for="displayPreferences">
                        <input type="radio" formControlName="displayPreferences" value="some">
                        Some
                    </label>
                </div>


<!-- 
                <div class="form-control form-check">
                    <label for="displayPreferences" *ngFor="let option of form.publicProfile.displaySettings.displayPreferences; let i=index">
                        <input type="checkbox" formControlName="displayPreferences">
                        {{ option }}

                    </label>
                </div> -->


            </zippy>
        </zippy>

        <zippy title="Preferences" class="form-group" formGroupName="preferences">
            <zippy class="form-group" formGroupName="likes" title="likes">
                <reactive-default-form-control label="Liked games: " formControlName="games"></reactive-default-form-control>
                
                <reactive-default-form-control label="Liked consoles: " formControlName="consoles"></reactive-default-form-control>
                
                <reactive-select-form-control label="Liked Categories: " formControlName="categories" [options]="gameInfo.categories"></reactive-select-form-control>

                <reactive-select-form-control label="Liked creators: " formControlName="creators" [options]="gameInfo.creators"></reactive-select-form-control>
                
                <reactive-select-form-control label="Liked Console Makers: " formControlName="consoleMakers" [options]="gameInfo.console_makers"></reactive-select-form-control>

            </zippy>
    
            <zippy class="form-group" formGroupName="dislikes" title="Dislikes: ">
                <reactive-default-form-control label="Disliked games: " formControlName="games"></reactive-default-form-control>
                
                <reactive-default-form-control label="Disliked consoles: " formControlName="consoles"></reactive-default-form-control>
                
                <reactive-select-form-control label="Disliked Categories: " formControlName="categories" [options]="gameInfo.categories"></reactive-select-form-control>

                <reactive-select-form-control label="Disliked creators: " formControlName="creators" [options]="gameInfo.creators"></reactive-select-form-control>
                
                <reactive-select-form-control label="Disliked Console Makers: " formControlName="consoleMakers" [options]="gameInfo.console_makers"></reactive-select-form-control>

            </zippy>

            <zippy class="form-group" formGroupName="historic" title="Historic: ">
                <reactive-default-form-control label="All time favorite games: " formControlName="favoriteGame"></reactive-default-form-control>
                
                <reactive-default-form-control label="All time favorite consoles: " formControlName="favoriteConsole"></reactive-default-form-control>
                
                <reactive-default-form-control label="First game ever played: " formControlName="firstGameEverPlayed"></reactive-default-form-control>
                
                <reactive-default-form-control label="First console ever played: " formControlName="firstConsoleEverPlayed"></reactive-default-form-control>
                
                <reactive-default-form-control label="What were your favorite games growing up?" formControlName="childhoodFavoriteGames"></reactive-default-form-control>
            </zippy>

            <zippy class="form-group" formGroupName="currentlyPlaying" title="Currently Playing: ">
                <reactive-default-form-control label="What games are you currently Playing?" formControlName="games"></reactive-default-form-control>
                
                <reactive-default-form-control label="What consoles are you currently using? " formControlName="consoles"></reactive-default-form-control>                
            </zippy>
    
        </zippy>

        
        <zippy class="form-group" formGroupName="accountSettings" title="Account Settings: ">
            
            
            <credential-form-control type="text" label="Username" formControlName="username"></credential-form-control>
            
            <credential-form-control type="text" label="Email Address" formControlName="email"></credential-form-control>

            <credential-form-control type="password" label="Password" formControlName="password"></credential-form-control>




        </zippy>
        <button class="btn btn-primary" [disabled]="!form.valid" >Update Profile</button>
    </form>
    <p>{{ form.value | json }}</p>
</div>
